# üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∫ —Å–∞–π—Ç—É

## üéØ –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ —Å–∞–π—Ç—É –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –≤—Å–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

## üöÄ –°–ø–æ—Å–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

### –°–ø–æ—Å–æ–± 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ SQL (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
\i check_database_connection.sql
```

### –°–ø–æ—Å–æ–± 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Node.js
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
npm install @supabase/supabase-js

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export NEXT_PUBLIC_SUPABASE_URL="your_supabase_url"
export NEXT_PUBLIC_SUPABASE_ANON_KEY="your_anon_key"
export SUPABASE_SERVICE_ROLE_KEY="your_service_role_key"

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É
node check_site_database_connection.mjs
```

## üìä –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í–µ—Ä—Å–∏—è PostgreSQL
- ‚úÖ –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- ‚úÖ –í—Ä–µ–º—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `books` (–∫–Ω–∏–≥–∏)
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `categories` (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `users` (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `subscription_requests` (–∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–¥–ø–∏—Å–∫—É)
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `rentals` (–∞—Ä–µ–Ω–¥–∞)

### 3. –î–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–Ω–∏–≥
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—è–≤–æ–∫ –Ω–∞ –ø–æ–¥–ø–∏—Å–∫—É

### 4. –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ö–Ω–∏–≥–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
- ‚úÖ –ö–Ω–∏–≥–∏ —Å –∞–≤—Ç–æ—Ä–∞–º–∏
- ‚úÖ –ö–Ω–∏–≥–∏ —Å –æ–±–ª–æ–∂–∫–∞–º–∏
- ‚úÖ –ö–Ω–∏–≥–∏ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

### 5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (RLS)
- ‚úÖ Row Level Security –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã

## üîç –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
```
üìö –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥: 105
‚úÖ –î–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–Ω–∏–≥: 105
üìÇ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π: 10-15
üë• –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 1+ (–∞–¥–º–∏–Ω)
üìä –ö–Ω–∏–≥–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏: 105
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å:
- **0 –∫–Ω–∏–≥** - –∫–Ω–∏–≥–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- **–ö–Ω–∏–≥–∏ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ "–ö–Ω–∏–≥–∞ 1", "–ö–Ω–∏–≥–∞ 2"** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è
- **–û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª—é—á–∏ Supabase
- **RLS –æ—à–∏–±–∫–∏** - –ø—Ä–æ–±–ª–µ–º—ã —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ –∫–Ω–∏–≥–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:
```sql
-- –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤—Å–µ 105 –∫–Ω–∏–≥
\i complete_book_titles_update.sql
```

### –ï—Å–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è:
```sql
-- –û–±–Ω–æ–≤–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–Ω–∏–≥
\i complete_book_titles_update.sql
```

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env.local`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á–∏ Supabase –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç Supabase –∞–∫—Ç–∏–≤–µ–Ω

## üìã –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env.local` –µ—Å—Ç—å:
```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã –±—É–¥–µ—Ç–µ –∑–Ω–∞—Ç—å:
- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –ª–∏** –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ó–∞–≥—Ä—É–∂–µ–Ω—ã –ª–∏** –≤—Å–µ –∫–Ω–∏–≥–∏
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ª–∏** –Ω–∞–∑–≤–∞–Ω–∏—è –∫–Ω–∏–≥
- ‚úÖ **–ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ª–∏** –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ **–ì–æ—Ç–æ–≤ –ª–∏** —Å–∞–π—Ç –∫ —Ä–∞–±–æ—Ç–µ

---

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç! üîç‚ú®**
