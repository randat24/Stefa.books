#!/usr/bin/env node

/**
 * –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–º–µ—Ä–∞ CSV —Ñ–∞–π–ª–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
 * –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: node scripts/create-sample-csv.mjs
 */

import { writeFileSync } from 'fs'

// –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
const sampleBooks = [
  {
    '–ù–∞–∑–≤–∞–Ω–∏–µ': '13 –∫–ª—é—á—ñ–≤ –¥–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Å–µ–±–µ',
    '–ê–≤—Ç–æ—Ä': '–ê–Ω–Ω–∞ –ü—Ä–æ—Å–≤—î—Ç–æ–≤–∞',
    'ISBN': '978-966-448-1226',
    '–û–ø–∏—Å–∞–Ω–∏–µ': '–ö–Ω–∏–≥–∞ –ø—Ä–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Å–µ–±–µ —Ç–∞ —Å–≤–æ—ó—Ö –µ–º–æ—Ü—ñ–π',
    '–û–±–ª–æ–∂–∫–∞': 'https://res.cloudinary.com/stefa-books/image/upload/v1704067200/books/13-keys.jpg',
    '–ö–∞—Ç–µ–≥–æ—Ä–∏—è': '–ü—Å–∏—Ö–æ–ª–æ–≥—ñ—è —ñ —Å–∞–º–æ—Ä–æ–∑–≤–∏—Ç–æ–∫',
    '–í–æ–∑—Ä–∞—Å—Ç': '16+',
    '–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ': '–ö–Ω–∏–≥–∞ –ø—Ä–æ —Å–∞–º–æ—Ä–æ–∑–≤–∏—Ç–æ–∫',
    '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ': '5',
    '–î–æ—Å—Ç—É–ø–Ω–æ': '3',
    '–¶–µ–Ω–∞': '305',
    '–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ': '–ü–æ–ª–∫–∞ –ê-1',
    '–ö–æ–¥': 'SB-2025-0001',
    '–î–æ—Å—Ç—É–ø–Ω–∞': 'true'
  },
  {
    '–ù–∞–∑–≤–∞–Ω–∏–µ': '–î–≤—ñ –±—ñ–ª–∫–∏ —ñ —à–∏—à–∫–∞ –∑ –≥—ñ–ª–∫–∏',
    '–ê–≤—Ç–æ—Ä': '–†–µ–π—á–µ–ª –ë—Ä–∞–π—Ç',
    'ISBN': '978-966-448-1227',
    '–û–ø–∏—Å–∞–Ω–∏–µ': '–ß–∞—Ä—ñ–≤–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –ø—Ä–æ –¥—Ä—É–∂–±—É —Ç–∞ –≤–∑–∞—î–º–æ–¥–æ–ø–æ–º–æ–≥—É',
    '–û–±–ª–æ–∂–∫–∞': 'https://res.cloudinary.com/stefa-books/image/upload/v1704067200/books/two-squirrels.jpg',
    '–ö–∞—Ç–µ–≥–æ—Ä–∏—è': '–ö–∞–∑–∫–∏',
    '–í–æ–∑—Ä–∞—Å—Ç': '3-6',
    '–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ': '–ö–∞–∑–∫–∞ –ø—Ä–æ –±—ñ–ª–æ–∫',
    '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ': '8',
    '–î–æ—Å—Ç—É–ø–Ω–æ': '6',
    '–¶–µ–Ω–∞': '380',
    '–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ': '–ü–æ–ª–∫–∞ –ë-2',
    '–ö–æ–¥': 'SB-2025-0002',
    '–î–æ—Å—Ç—É–ø–Ω–∞': 'true'
  },
  {
    '–ù–∞–∑–≤–∞–Ω–∏–µ': '–î–∏–∫–∏–π —Ä–æ–±–æ—Ç',
    '–ê–≤—Ç–æ—Ä': '–ü—ñ—Ç–µ—Ä –ë—Ä–∞—É–Ω',
    'ISBN': '978-966-448-1228',
    '–û–ø–∏—Å–∞–Ω–∏–µ': '–ü—Ä–∏–≥–æ–¥–∏ —Ä–æ–±–æ—Ç–∞ –Ω–∞ –¥–∏–∫–æ–º—É –æ—Å—Ç—Ä–æ–≤—ñ',
    '–û–±–ª–æ–∂–∫–∞': 'https://res.cloudinary.com/stefa-books/image/upload/v1704067200/books/wild-robot.jpg',
    '–ö–∞—Ç–µ–≥–æ—Ä–∏—è': '–ü—Ä–∏–≥–æ–¥–∏',
    '–í–æ–∑—Ä–∞—Å—Ç': '8-12',
    '–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ': '–ü—Ä–∏–≥–æ–¥–∏ —Ä–æ–±–æ—Ç–∞',
    '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ': '4',
    '–î–æ—Å—Ç—É–ø–Ω–æ': '2',
    '–¶–µ–Ω–∞': '256',
    '–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ': '–ü–æ–ª–∫–∞ –í-3',
    '–ö–æ–¥': 'SB-2025-0003',
    '–î–æ—Å—Ç—É–ø–Ω–∞': 'true'
  }
]

// –°–æ–∑–¥–∞–µ–º CSV —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
function createCSV(data) {
  const headers = Object.keys(data[0])
  const csvContent = [
    headers.join(','),
    ...data.map(row => 
      headers.map(header => {
        const value = row[header] || ''
        // –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º –∫–∞–≤—ã—á–∫–∏ –∏ –∑–∞–ø—è—Ç—ã–µ
        if (value.includes(',') || value.includes('"') || value.includes('\n')) {
          return `"${value.replace(/"/g, '""')}"`
        }
        return value
      }).join(',')
    )
  ].join('\n')
  
  return csvContent
}

// –°–æ–∑–¥–∞–µ–º CSV —Ñ–∞–π–ª
const csvContent = createCSV(sampleBooks)
writeFileSync('sample-books.csv', csvContent, 'utf8')

console.log('‚úÖ –°–æ–∑–¥–∞–Ω –ø—Ä–∏–º–µ—Ä CSV —Ñ–∞–π–ª–∞: sample-books.csv')
console.log('\nüìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞:')
console.log('  - –ù–∞–∑–≤–∞–Ω–∏–µ: –ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏')
console.log('  - –ê–≤—Ç–æ—Ä: –ê–≤—Ç–æ—Ä –∫–Ω–∏–≥–∏')
console.log('  - ISBN: ISBN –∫–æ–¥')
console.log('  - –û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ')
console.log('  - –û–±–ª–æ–∂–∫–∞: URL –æ–±–ª–æ–∂–∫–∏')
console.log('  - –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ö–∞–∑–∫–∏, –ü—Ä–∏–≥–æ–¥–∏, –ü—Å–∏—Ö–æ–ª–æ–≥—ñ—è —ñ —Å–∞–º–æ—Ä–æ–∑–≤–∏—Ç–æ–∫)')
console.log('  - –í–æ–∑—Ä–∞—Å—Ç: –í–æ–∑—Ä–∞—Å—Ç–Ω–∞—è –≥—Ä—É–ø–ø–∞')
console.log('  - –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ')
console.log('  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ')
console.log('  - –î–æ—Å—Ç—É–ø–Ω–æ: –î–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ')
console.log('  - –¶–µ–Ω–∞: –¶–µ–Ω–∞ –≤ –≥—Ä–∏–≤–Ω–∞—Ö')
console.log('  - –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è')
console.log('  - –ö–æ–¥: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –∫–Ω–∏–≥–∏')
console.log('  - –î–æ—Å—Ç—É–ø–Ω–∞: true/false')
console.log('\nüöÄ –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:')
console.log('1. –û—Ç–∫—Ä—ã—Ç—å sample-books.csv –≤ Excel/Google Sheets')
console.log('2. –î–æ–±–∞–≤–∏—Ç—å –≤–∞—à–∏ 105 –∫–Ω–∏–≥ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏')
console.log('3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ books.csv')
console.log('4. –ó–∞–ø—É—Å—Ç–∏—Ç—å: node scripts/load-all-105-books.mjs books.csv')
