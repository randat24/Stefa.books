# Cloudinary –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –¥–ª—è –û–±–∫–ª–∞–¥–∏–Ω–æ–∫ –ö–Ω–∏–≥

## üéØ –û–≥–ª—è–¥ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ

–ü–æ–≤–Ω—ñ—Å—Ç—é —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –æ–±–∫–ª–∞–¥–∏–Ω–∫–∞–º–∏ –∫–Ω–∏–≥ —á–µ—Ä–µ–∑ Cloudinary CDN –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—î—é, –±–µ–∑–ø–µ–∫–æ—é —Ç–∞ –∑—Ä—É—á–Ω–∏–º UI.

## ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

### üîß API —Ç–∞ Backend
- **POST** `/api/admin/upload/cover` - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–±–∫–ª–∞–¥–∏–Ω–æ–∫
- **DELETE** `/api/admin/upload/cover?public_id=xxx` - –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–∞–π–ª—ñ–≤ (—Ä–æ–∑–º—ñ—Ä, —Ç–∏–ø, —Ä–æ–∑–º—ñ—Ä–∏)
- –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
- –ë–µ–∑–ø–µ—á–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∫–ª—é—á—ñ–≤ API

### üé® UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
- **CoverUpload** - drag & drop –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑ –ø—Ä–µ–≤—å—é
- **AddBookDialog** - –æ–Ω–æ–≤–ª–µ–Ω–∞ —Ñ–æ—Ä–º–∞ –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é –æ–±–∫–ª–∞–¥–∏–Ω–æ–∫
- **BooksTable** - –ø–µ—Ä–µ–≥–ª—è–¥ –æ–±–∫–ª–∞–¥–∏–Ω–æ–∫ —É —Ç–∞–±–ª–∏—Ü—ñ –∑ –º–æ–¥–∞–ª–∞–º–∏
- –ú–æ–±—ñ–ª—å–Ω–æ-–∞–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω

### üîí –ë–µ–∑–ø–µ–∫–∞
- CSP –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑ –¥–æ–∑–≤–æ–ª–æ–º –¥–ª—è Cloudinary
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–∞–π–ª—ñ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
- RLS –∑–∞—Ö–∏—Å—Ç –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
- –ó–∞—Ö–∏—â–µ–Ω—ñ API –∫–ª—é—á—ñ

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Cloudinary

–î–æ–¥–∞–π—Ç–µ –∫–ª—é—á—ñ –¥–æ `.env.local`:

```env
# Cloudinary Configuration
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret
```

### 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Cloudinary –∞–∫–∞—É–Ω—Ç—É

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [cloudinary.com](https://cloudinary.com)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –∞–∫–∞—É–Ω—Ç
3. –£ Dashboard —Å–∫–æ–ø—ñ—é–π—Ç–µ:
   - **Cloud name**
   - **API Key** 
   - **API Secret**

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–∞–ø–æ–∫

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
stefa-books/
  ‚îî‚îÄ‚îÄ covers/
      ‚îú‚îÄ‚îÄ stefa-books-1693123456789-abc123def.jpg
      ‚îú‚îÄ‚îÄ stefa-books-1693123456790-xyz789ghi.png
      ‚îî‚îÄ‚îÄ ...
```

## üìö –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–Ω–∏–≥ –∑ –æ–±–∫–ª–∞–¥–∏–Ω–∫–∞–º–∏

### –ß–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å:

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å**: http://localhost:3000/admin
2. **–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–î–æ–¥–∞—Ç–∏ –∫–Ω–∏–≥—É"**
3. **–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –æ–±–∫–ª–∞–¥–∏–Ω–∫—É**:
   - –ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å —Ñ–∞–π–ª —É –∑–æ–Ω—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
   - –ê–±–æ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –¥–ª—è –≤–∏–±–æ—Ä—É —Ñ–∞–π–ª—É
   - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞: JPEG, PNG, WebP, GIF (–¥–æ 5 –ú–ë)
4. **–ó–∞–ø–æ–≤–Ω—ñ—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–Ω–∏–≥—É**
5. **–ó–±–µ—Ä–µ–∂—ñ—Ç—å**

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è:

- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä: 400√ó600px
- –ê–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç (WebP –¥–ª—è —Å—É—á–∞—Å–Ω–∏—Ö –±—Ä–∞—É–∑–µ—Ä—ñ–≤)
- –Ø–∫—ñ—Å—Ç—å: auto (–∞–¥–∞–ø—Ç–∏–≤–Ω–∞)
- CDN –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å—å–æ–º—É —Å–≤—ñ—Ç—É

## üéõÔ∏è –§—É–Ω–∫—Ü—ñ—ó —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è

### –ü–µ—Ä–µ–≥–ª—è–¥ –æ–±–∫–ª–∞–¥–∏–Ω–æ–∫
- **–ú—ñ–Ω—ñ-–ø—Ä–µ–≤—å—é** —É —Ç–∞–±–ª–∏—Ü—ñ –∫–Ω–∏–≥
- **–ö–ª—ñ–∫ –¥–ª—è –∑–±—ñ–ª—å—à–µ–Ω–Ω—è** - –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ
- **–ü–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–∏–π –ø–µ—Ä–µ–≥–ª—è–¥** - –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –≤ –Ω–æ–≤—ñ–π –≤–∫–ª–∞–¥—Ü—ñ

### –ó–∞–º—ñ–Ω–∞ –æ–±–∫–ª–∞–¥–∏–Ω–æ–∫
- –ù–∞–≤–µ–¥—ñ—Ç—å –Ω–∞ –æ–±–∫–ª–∞–¥–∏–Ω–∫—É –≤ —Ç–∞–±–ª–∏—Ü—ñ
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–†–µ–¥–∞–≥—É–≤–∞—Ç–∏" ‚Üí –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –Ω–æ–≤—É
- –°—Ç–∞—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª–∏—Ç—å—Å—è

### –í–∏–¥–∞–ª–µ–Ω–Ω—è –æ–±–∫–ª–∞–¥–∏–Ω–æ–∫
- –ü—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –∫–Ω–∏–≥–∏ –æ–±–∫–ª–∞–¥–∏–Ω–∫–∞ —Ç–∞–∫–æ–∂ –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è
- –ö–Ω–æ–ø–∫–∞ "–í–∏–¥–∞–ª–∏—Ç–∏" —É —Ñ–æ—Ä–º—ñ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–∞–π–ª—ñ–≤
```typescript
const ALLOWED_MIME_TYPES = [
  'image/jpeg', 'image/jpg', 'image/png', 
  'image/webp', 'image/gif'
]
const MAX_FILE_SIZE = 5 * 1024 * 1024 // 5 –ú–ë
const MIN_DIMENSIONS = { width: 200, height: 300 }
```

### –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó Cloudinary
```typescript
transformation: [
  { 
    fetch_format: 'auto',     // WebP –¥–ª—è —Å—É—á–∞—Å–Ω–∏—Ö –±—Ä–∞—É–∑–µ—Ä—ñ–≤
    quality: 'auto:best',     // –ê–¥–∞–ø—Ç–∏–≤–Ω–∞ —è–∫—ñ—Å—Ç—å
    width: 400,               // –ú–∞–∫—Å. —à–∏—Ä–∏–Ω–∞
    height: 600,              // –ú–∞–∫—Å. –≤–∏—Å–æ—Ç–∞
    crop: 'limit'             // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π
  }
]
```

### Next.js –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è
```javascript
// next.config.js
images: {
  remotePatterns: [
    {
      protocol: 'https',
      hostname: 'res.cloudinary.com',
      pathname: '/**',
    }
  ]
}
```

## üîç –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–ª—é—á—ñ –≤ `.env.local`
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ —Ñ–∞–π–ª < 5 –ú–ë
3. –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç (JPEG/PNG/WebP/GIF)
4. –†–æ–∑–º—ñ—Ä–∏ > 200√ó300px

### –û–±–∫–ª–∞–¥–∏–Ω–∫–∏ –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Next.js –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
2. Cloudinary –¥–æ–º–µ–Ω —É CSP –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö
3. –ú–µ—Ä–µ–∂–µ–≤–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ CDN

### –ü–æ–≤—ñ–ª—å–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
1. Cloudinary –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–ø—Ç–∏–º—ñ–∑—É—î
2. CDN –∫–µ—à—É–≤–∞–Ω–Ω—è (–ø–µ—Ä—à–∏–π —Ä–∞–∑ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ)
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–æ–∑–º—ñ—Ä –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª—É

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### Cloudinary Dashboard
- –ü–µ—Ä–µ–≥–ª—è–¥ —É—Å—ñ—Ö –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–∞—Ñ—ñ–∫—É —Ç–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ–π
- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–≤–æ—Ç–∞–º–∏ (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ: 25 –∫—Ä–µ–¥–∏—Ç—ñ–≤/–º—ñ—Å—è—Ü—å)

### –õ—ñ–º —Ç–∏ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –ø–ª–∞–Ω—É:
- **–°—Ö–æ–≤–∏—â–µ**: 25GB
- **Bandwidth**: 25GB/–º—ñ—Å—è—Ü—å
- **–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó**: 25,000/–º—ñ—Å—è—Ü—å
- **–í—ñ–¥–µ–æ**: 500MB

## üöÄ –ú–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### –ü–ª–∞–Ω—É—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∏:
- [ ] –ú–∞—Å–æ–≤–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–±–∫–ª–∞–¥–∏–Ω–æ–∫
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–æ—à—É–∫ –æ–±–∫–ª–∞–¥–∏–Ω–æ–∫ –∑–∞ ISBN
- [ ] –†—ñ–∑–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ–≤
- [ ] –í–æ–¥—è–Ω—ñ –∑–Ω–∞–∫–∏ –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –∞–≤—Ç–æ—Ä—Å—å–∫–∏—Ö –ø—Ä–∞–≤
- [ ] AI-—Ç–µ–≥–∏ –¥–ª—è –ø–æ—à—É–∫—É –∑–æ–±—Ä–∞–∂–µ–Ω—å

## üí° –ü–æ—Ä–∞–¥–∏ –ø–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—é

### –Ø–∫—ñ—Å—Ç—å –æ–±–∫–ª–∞–¥–∏–Ω–æ–∫:
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤–∏—Å–æ–∫–æ—è–∫—ñ—Å–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–º—ñ–Ω—ñ–º—É–º 400√ó600px)
- –î–æ–±—Ä–µ –æ—Å–≤—ñ—Ç–ª–µ–Ω—ñ, —á—ñ—Ç–∫—ñ —Ñ–æ—Ç–æ
- –£–Ω–∏–∫–∞–π—Ç–µ —Ä–æ–∑–º–∏—Ç–∏—Ö –∞–±–æ –ø–µ—Ä–µ–∫—Ä—É—á–µ–Ω–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å

### –û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è:
- –ù–∞–∑–∏–≤–∞–π—Ç–µ —Ñ–∞–π–ª–∏ –æ–ø–∏—Å–æ–≤–æ –ø–µ—Ä–µ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –ø—Ä–æ–ø–æ—Ä—Ü—ñ—ó –æ–±–∫–ª–∞–¥–∏–Ω–æ–∫ (2:3)
- –ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó –æ—Ä–∏–≥—ñ–Ω–∞–ª—ñ–≤

### –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:
- Cloudinary –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–ø—Ç–∏–º—ñ–∑—É—î –¥–ª—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ WebP —Ñ–æ—Ä–º–∞—Ç –∫–æ–ª–∏ –º–æ–∂–ª–∏–≤–æ
- CDN –∑–∞–±–µ–∑–ø–µ—á—É—î —à–≤–∏–¥–∫—É –¥–æ—Å—Ç–∞–≤–∫—É –ø–æ –≤—Å—å–æ–º—É —Å–≤—ñ—Ç—É

---

## üéâ –ì–æ—Ç–æ–≤–æ!

Cloudinary —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ —Ç–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è. –û–±–∫–ª–∞–¥–∏–Ω–∫–∏ –∫–Ω–∏–≥ —Ç–µ–ø–µ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è —à–≤–∏–¥–∫–æ, –±–µ–∑–ø–µ—á–Ω–æ —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–ø—Ç–∏–º—ñ–∑—É—é—Ç—å—Å—è –¥–ª—è –Ω–∞–π–∫—Ä–∞—â–æ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.